<!DOCTYPE html>
<html>
  <head>
    <title>Socket.IO Test</title>
  </head>
  <body>
    <script type="module">
      // eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2Nzg1NzBmNzNhNWMzYmJmMjdjNDFiZmQiLCJpc0FkbWluIjpmYWxzZSwiaWF0IjoxNzM2OTU4OTM0LCJleHAiOjE3MzcwNDUzMzR9.YoTqN8857VAaDnhI387Xjr_IyTyxxFY9mCDZKoFu858
      import io from "https://cdn.jsdelivr.net/npm/socket.io-client@4/dist/socket.io.esm.min.js"; // Use the ESM build
      const token =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2Nzk2NjdiN2YyZWNjZmIwNWE5ODM3MDMiLCJpc0FkbWluIjpmYWxzZSwiaWF0IjoxNzM3OTEwMTk5LCJleHAiOjE3Mzc5OTY1OTl9.dxHchBsyMXvwGUKewPUIFPzkPJhal1hZgJuz0sIsF_g";
      const socket = io("http://localhost:3000", {
        auth: { token },
      }); // Replace with your server URL

      socket.on("connect", () => {
        console.log("Connected!", socket.id);
        socket.emit("register", "testUser123"); // Emit the register event
      });

      // Listen for notifications
      socket.on("notification", (data) => {
        console.log("New notification received:", data);
        // Add some visual feedback
        const notification = document.createElement("div");
        notification.textContent = `New notification: ${data}`;
        document.body.appendChild(notification);
      });

      socket.on("disconnect", () => {
        console.log("Disconnected!");
      });
    </script>
  </body>
</html>
